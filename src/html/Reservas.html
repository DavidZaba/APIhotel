<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../assets/css/styles.min.css" />
    <title>Nido Sky</title>
    <link rel="shortcut icon" type="image/png" href="../assets/images/logos/nidosky.png" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body>
    <style>
        /* Estilos generales de la reserva */
        body {
            background-color: #e0e0e0;
            /* Fondo claro para toda la página */
            color: #333;
            /* Texto oscuro */
        }

        .btn-status {
            border: none;
            padding: 5px 10px;
            color: white;
            font-weight: bold;
            border-radius: 5px;
        }

        .brand-logo {
            background-color: #333;
            /* Color de fondo del logo */
            padding: 20px;
        }

        .btn-reservada {
            background-color: #00a859;
            /* Verde para reservada */
            color: white;
        }

        .btn-confirmada {
            background-color: #0a73ec;
            /* Azul para confirmada */
        }

        .btn-pendiente {
            background-color: #fab026;
            /* Naranja para pendiente */
            color: white;
        }

        /* Aquí van los estilos de la segunda columna de las reservas */
        .btn-confirmada1 {
            background-color: #0a73ec;
            color: white;
        }

        .btn-pendiente1 {
            background-color: #fab026;
        }

        .btn-reservada1 {
            background-color: #00a859;
            color: white;
        }

        .status-container {
            display: flex;
            gap: 5px;
        }

        .btn-status:disabled {
            padding: 5px 10px;
            font-weight: bold;
            border-radius: 5px;
            background-color: #808080;
            /* Gris para los botones deshabilitados */
            color: #fff;
            /* Texto blanco */
            cursor: not-allowed;
            /* Cursor de no permitido */
        }

        .btn-excel {
            background-color: #00a859;
            /* Verde para el botón de Excel */
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .btn-excel i {
            margin-right: 5px;
        }

        .dataTables_wrapper .dataTables_paginate {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .dataTables_wrapper .dataTables_info {
            display: none;
        }

        .dataTables_wrapper .dataTables_length {
            display: none;
        }

        table.dataTable thead th {
            background-color: #212529;
            /* Fondo oscuro para el encabezado de la tabla */
            color: #fff;
            /* Texto blanco para el encabezado de la tabla */
        }

        table.dataTable tbody tr {
            background-color: #343a40;
            /* Fondo oscuro para las filas de la tabla */
            color: #fff;
            /* Texto blanco para las filas de la tabla */
        }

        table.dataTable tbody td {
            white-space: nowrap;
            /* Evita que el contenido se rompa en varias líneas */
        }

        /* Estilos para el menú de navegación */
        .left-sidebar {
            background-color: #ffffff;
            /* Fondo blanco para el menú lateral */
        }

        .sidebar-link {
            color: #333;
            /* Texto oscuro para los enlaces del menú lateral */
        }

        .sidebar-link:hover {
            background-color: #333;
            /* Fondo gris oscuro al pasar el cursor */
            color: #00a859;
            /* Color verde para el texto al pasar el cursor */
        }

        .app-header {
            background-color: #ffffff;
            /* Fondo blanco para el encabezado */
        }

        .navbar-nav .nav-link {
            color: #333;
            /* Texto oscuro para los enlaces del encabezado */
        }

        .navbar-nav .nav-link:hover {
            color: #00a859;
            /* Color verde para el texto al pasar el cursor */
        }

        .btn-primary {
            background-color: #00a859;
            /* Verde para los botones primarios */
            border-color: #00a859;
            /* Borde verde para los botones primarios */
        }

        .btn-primary:hover {
            background-color: #008f5d;
            /* Verde más oscuro al pasar el cursor */
            border-color: #008f5d;
            /* Borde verde más oscuro al pasar el cursor */
        }

        .btn-outline-primary {
            color: #00a859;
            /* Color verde para el borde del botón primario */
            border-color: #00a859;
            /* Borde verde para el botón primario */
        }

        .btn-outline-primary:hover {
            color: #008f5d;
            /* Color verde más oscuro al pasar el cursor */
            border-color: #008f5d;
            /* Borde verde más oscuro al pasar el cursor */
        }

        .btn-outline-danger {
            color: #e74c3c;
            /* Color rojo para el borde del botón de eliminar */
            border-color: #e74c3c;
            /* Borde rojo para el botón de eliminar */
        }

        .btn-outline-danger:hover {
            color: #c0392b;
            /* Rojo más oscuro al pasar el cursor */
            border-color: #c0392b;
            /* Borde rojo más oscuro al pasar el cursor */
        }

        h5.card-title {
            color: #00a859;
            /* Color verde para los títulos de las tarjetas */
        }
    </style>
    <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
        data-sidebar-position="fixed" data-header-position="fixed">
        <aside class="left-sidebar">
            <div>
                <div class="brand-logo d-flex align-items-center justify-content-between">
                    <a href="./index.html" class="text-nowrap logo-img">
                        <img src="../assets/images/logos/nidosky.png" width="180" alt="" />
                    </a>
                    <div class="close-btn d-xl-none d-block sidebartoggler cursor-pointer" id="sidebarCollapse">
                        <i class="ti ti-x fs-8"></i>
                    </div>
                </div>
                <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
                    <ul id="sidebarnav">
                        <li class="sidebar-item"><a class="sidebar-link" href="./Roles.html"><i
                                    class="ti ti-id-badge"></i><span class="hide-menu">Roles</span></a></li>
                        <li class="sidebar-item"><a class="sidebar-link" href="./Registro.html"><i
                                    class="ti ti-user"></i><span class="hide-menu">Login</span></a></li>
                        <li class="sidebar-item"><a class="sidebar-link" href="./Dashboard.html"><i
                                    class="ti ti-layout-dashboard"></i><span class="hide-menu">Dashboard</span></a></li>
                        <li class="sidebar-item"><a class="sidebar-link" href="./apartamentos.html"><i
                                    class="ti ti-home"></i><span class="hide-menu">Apartamentos</span></a></li>
                        <li class="sidebar-item"><a class="sidebar-link" href="./descuentos.html"><i
                                    class="ti ti-tag"></i><span class="hide-menu">Descuentos</span></a></li>
                        <li class="sidebar-item"><a class="sidebar-link" href="./reservas.html"><i
                                    class="ti ti-calendar"></i><span class="hide-menu">Reservas</span></a></li>
                        <li class="sidebar-item"><a class="sidebar-link" href="./hospedaje.html"><i
                                    class="ti ti-hotel"></i><span class="hide-menu">Hospedaje</span></a></li>
                    </ul>
                </nav>
            </div>
        </aside>
        <div class="body-wrapper">
            <header class="app-header">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <ul class="navbar-nav">
                        <li class="nav-item d-block d-xl-none"><a class="nav-link sidebartoggler nav-icon-hover"
                                id="headerCollapse" href="javascript:void(0)"><i class="ti ti-menu-2"></i></a></li>
                        <li class="nav-item"><a class="nav-link nav-icon-hover" href="javascript:void(0)"><i
                                    class="ti ti-bell-ringing"></i>
                                <div class="notification bg-primary rounded-circle"></div>
                            </a></li>
                    </ul>
                    <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
                        <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
                            <a href="https://adminmart.com/product/modernize-free-bootstrap-admin-dashboard/"
                                target="_blank" class="btn btn-primary">Download Free</a>
                            <li class="nav-item dropdown">
                                <a class="nav-link nav-icon-hover" href="javascript:void(0)" id="drop2"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    <img src="../assets/images/profile/user-1.jpg" alt="" width="35" height="35"
                                        class="rounded-circle" />
                                </a>
                                <div class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up"
                                    aria-labelledby="drop2">
                                    <div class="message-body">
                                        <a href="javascript:void(0)"
                                            class="d-flex align-items-center gap-2 dropdown-item"><i
                                                class="ti ti-user fs-6"></i>
                                            <p class="mb-0 fs-3">My Profile</p>
                                        </a>
                                        <a href="javascript:void(0)"
                                            class="d-flex align-items-center gap-2 dropdown-item"><i
                                                class="ti ti-mail fs-6"></i>
                                            <p class="mb-0 fs-3">My Account</p>
                                        </a>
                                        <a href="javascript:void(0)"
                                            class="d-flex align-items-center gap-2 dropdown-item"><i
                                                class="ti ti-list-check fs-6"></i>
                                            <p class="mb-0 fs-3">My Task</p>
                                        </a>
                                        <a href="./authentication-login.html"
                                            class="btn btn-outline-primary mx-3 mt-2 d-block">Logout</a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </header>
            <div class="container-fluid">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title fw-semibold mb-4">Reservas</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <button class="btn btn-primary" data-bs-toggle="modal"
                                data-bs-target="#createReservationModal"><i class="ti ti-plus"></i></button>
                            <div class="input-group" style="max-width: 300px">
                                <input type="text" class="form-control" placeholder="Buscar" aria-label="search" />
                            </div>
                            <button class="btn btn-excel"><i class="ti ti-file-export"></i> Exportar a Excel</button>
                        </div>


                        <!-- Modal para crear reserva -->
                        <div class="modal fade" id="createReservationModal" tabindex="-1"
                            aria-labelledby="createReservationModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="createReservationModalLabel">Crear Nueva Reserva
                                        </h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <form id="createReservationForm" novalidate>
                                            <div class="row">
                                                <!-- Formulario de cliente -->
                                                <div class="col-md-6">
                                                    <h5>Datos del Cliente</h5>
                                                    <div class="mb-3">
                                                        <label for="nombre" class="form-label">Nombre</label>
                                                        <input type="text" class="form-control" id="nombre" required
                                                            pattern="[a-zA-Z\s]+"
                                                            title="Solo se permiten letras y espacios." />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="apellido" class="form-label">Apellido</label>
                                                        <input type="text" class="form-control" id="apellido" required
                                                            pattern="[a-zA-Z\s]+"
                                                            title="Solo se permiten letras y espacios." />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="tipoDoc" class="form-label">Tipo de
                                                            documento</label>
                                                        <select class="form-select" id="tipoDoc" required>
                                                            <option value="">Seleccione un tipo de documento</option>
                                                            <option value="CC">C.C</option>
                                                            <option value="TI">T.I</option>
                                                            <option value="PP">P.P</option>
                                                        </select>
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="numDoc" class="form-label">N° Documento</label>
                                                        <input type="number" class="form-control" id="numDoc" required
                                                            minlength="5" />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="telefono" class="form-label">Teléfono</label>
                                                        <input type="number" class="form-control" id="telefono"
                                                            required />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="correo" class="form-label">Correo
                                                            electrónico</label>
                                                        <input type="email" class="form-control" id="correo" required />
                                                    </div>
                                                </div>

                                                <!-- Formulario de reserva -->
                                                <div class="col-md-6">
                                                    <h5>Datos de Reserva</h5>
                                                    <div class="mb-3">
                                                        <label for="numReserva" class="form-label">N° Reserva</label>
                                                        <input type="number" class="form-control" id="numReserva"
                                                            required />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="fechaReserva" class="form-label">Fecha de
                                                            reserva</label>
                                                        <input type="date" class="form-control" id="fechaReserva"
                                                            required />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="fechaDesde" class="form-label">Desde</label>
                                                        <input type="date" class="form-control" id="fechaDesde"
                                                            required />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="fechaHasta" class="form-label">Hasta</label>
                                                        <input type="date" class="form-control" id="fechaHasta"
                                                            required />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="numAcompañantes" class="form-label">Número de
                                                            acompañantes</label>
                                                        <input type="number" class="form-control" id="numAcompañantes"
                                                            required />
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="tipoApto" class="form-label">Tipo de
                                                            apartamento</label>
                                                        <select class="form-select" id="tipoApto" required>
                                                            <option value="">Seleccione un tipo de Apartamento</option>
                                                            <option value="tipo1">Tipo 1</option>
                                                            <option value="tipo2">Tipo 2</option>
                                                            <option value="Penthouse">Penthouse</option>
                                                        </select>
                                                    </div>

                                                    <div class="mb-3">
                                                        <label for="comprobante" class="form-label">Comprobante de
                                                            pago</label>
                                                        <input type="file" class="form-control" id="comprobante"
                                                            required />
                                                    </div>

                                                    <button type="submit" class="btn btn-primary">Hecho!</button>
                                                    <button type="button" class="btn btn-secondary"
                                                        id="btnCancelarReserva"
                                                        data-bs-dismiss="modal">Cancelar</button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Modal para editar reserva -->
                        <div class="modal fade" id="editReservationModal" tabindex="-1"
                            aria-labelledby="editReservationModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="editReservationModalLabel">Editar Reserva</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <form id="editReservationForm">
                                            <div class="mb-3">
                                                <label for="cliente" class="form-label">Cliente</label>
                                                <input type="text" class="form-control" id="cliente" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="fInicio" class="form-label">Fecha de Inicio</label>
                                                <input type="date" class="form-control" id="fInicio" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="fFin" class="form-label">Fecha de Fin</label>
                                                <input type="date" class="form-control" id="fFin" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="FechaReserva" class="form-label">Fecha de la reserva</label>
                                                <input type="date" class="form-control" id="FechaReserva" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="tipoApartamento" class="form-label">Tipo de
                                                    apartamento</label>
                                                <select class="form-select" id="tipoApartamento" required>
                                                    <option value="tipo1">Tipo 1</option>
                                                    <option value="tipo2">Tipo 2</option>
                                                    <option value="penthouse">Penthouse</option>
                                                </select>
                                            </div>
                                            <div class="mb-3">
                                                <label for="acompañantes" class="form-label">Acompañantes</label>
                                                <input type="number" class="form-control" id="acompañantes" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="total" class="form-label">Total</label>
                                                <input type="number" class="form-control" id="total" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="estado" class="form-label">Estado</label>
                                                <select class="form-select" id="estado" required>
                                                    <option value="confirmada">Confirmada</option>
                                                    <option value="pendiente">Pendiente</option>
                                                    <option value="cancelada">Cancelada</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Actualizar Reserva</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="table-responsive">
                            <table id="reservasTable" class="table">
                                <thead>
                                    <tr>
                                        <th scope="col">IdReserva</th>
                                        <th scope="col">Cliente</th>
                                        <th scope="col">FInicio</th>
                                        <th scope="col">FFin</th>
                                        <th scope="col">FReserv</th>
                                        <th scope="col">Total</th>
                                        <th scope="col">Estado</th>
                                        <th scope="col">Acciones</th>
                                        <th scope="col">Opciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>10010</td>
                                        <td>Pedro</td>
                                        <td>01/05/2024</td>
                                        <td>07/05/2024</td>
                                        <td>20/04/2024</td>
                                        <td>$1,000,000</td>
                                        <td>cancelada</td>
                                        <td>
                                            <div class="status-container">
                                                <button class="btn-status" title="Reservada">R</button>
                                                <button class="btn-status" title="Confirmada">C</button>
                                                <button class="btn-status" title="Pendiente">P</button>
                                            </div>
                                        </td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary"><i class="ti ti-pencil"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#editReservationModal"></i></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i
                                                    class="ti ti-eye"></i></button>
                                            <button class="btn btn-sm btn-outline-warning"><i
                                                    class="ti ti-loader"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>10011</td>
                                        <td>Maria</td>
                                        <td>08/05/2024</td>
                                        <td>16/05/2024</td>
                                        <td>02/05/2024</td>
                                        <td>$1,220,000</td>
                                        <td>pendiente</td>
                                        <td>
                                            <div class="status-container">
                                                <button class="btn-status" title="Reservada">R</button>
                                                <button class="btn-status" title="Confirmada">C</button>
                                                <button class="btn-status" title="Pendiente">P</button>
                                            </div>
                                        </td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary"><i class="ti ti-pencil"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#editReservationModal"></i></i></button>
                                            <!-- Botón "Ver Detalles" -->
                                            <button class="btn btn-sm btn-outline-danger btn-view-details" data-id="1">
                                                <i class="ti ti-eye"></i>
                                            </button>

                                            <!-- Modal para mostrar detalles -->
                                            <div class="modal fade" id="viewDetailsModal" tabindex="-1"
                                                aria-labelledby="viewDetailsModalLabel" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="viewDetailsModalLabel">Detalles
                                                                de la Reserva</h5>
                                                            <button type="button" class="btn-close"
                                                                data-bs-dismiss="modal" aria-label="Close"></button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <!-- Aquí van los detalles que quieras mostrar -->
                                                            <p id="reservationDetails"></p>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                                data-bs-dismiss="modal">Cerrar</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <button class="btn btn-sm btn-outline-warning"><i
                                                    class="ti ti-loader"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>



                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>

    <script>
        $(document).ready(function () {

// Inicialización de DataTable con opciones
function initDataTable() {
    $("#reservasTable").DataTable({
        paging: true,
        searching: false,
        ordering: true,
        lengthChange: false,
    });
}

// Manejo de los botones de estado en la tabla
function handleStatusButtons() {
    $('.status-container .btn-status').on('click', function () {
        const row = $(this).closest('tr');

        // Deshabilitar todos los botones de estado en la fila
        row.find('.btn-status').prop('disabled', true).css({ 'background-color': '#808080', 'color': '#fff' });

        // Activar el botón que fue clickeado
        $(this).prop('disabled', false);

        // Obtener el estado y actualizar el campo de estado en la tabla
        const estado = $(this).attr('title');
        row.find('td:nth-child(7)').text(estado.toLowerCase());

        // Mostrar mensaje de estado actualizado
        alert('Estado cambiado a: ' + estado);
    });
}

// Validación del formulario de creación de reserva
function validateCreateReservationForm() {
    const cliente = $('#cliente').val().trim();
    const fInicio = $('#fInicio').val();
    const fFin = $('#fFin').val();
    const total = parseFloat($('#total').val());
    const estado = $('#estado').val();
    const acompañantes = parseInt($('#acompañantes').val());

    // // Validaciones básicas
    // if (!cliente || !fInicio || !fFin || !total || !estado || !acompañantes) {
    //     Swal.fire({
    //         title: '¡Error!',
    //         text: 'Por favor completa todos los campos obligatorios.',
    //         icon: 'error',
    //         confirmButtonText: 'Intentar de nuevo'
    //     });
    //     return false;
    // }

    // Validación del nombre
    // const nameRegex = /^[a-zA-Z\s]+$/;
    // if (!nameRegex.test(cliente)) {
    //     Swal.fire({
    //         title: '¡Error!',
    //         text: 'El nombre solo puede contener letras y espacios.',
    //         icon: 'error',
    //         confirmButtonText: 'Intentar de nuevo'
    //     });
    //     return false;
    // }

    // Validación del número de acompañantes
    if (acompañantes < 1 || acompañantes > 3) {
        Swal.fire({
            title: '¡Error!',
            text: 'El número de acompañantes debe estar entre 1 y 3.',
            icon: 'error',
            confirmButtonText: 'Intentar de nuevo'
        });
        return false;
    }

    // Validación del total
    if (total <= 0) {
        Swal.fire({
            title: '¡Error!',
            text: 'El total debe ser un número positivo.',
            icon: 'error',
            confirmButtonText: 'Intentar de nuevo'
        });
        return false;
    }

    return true;
}

// Manejo de la creación de nueva reserva
function handleCreateReservation() {
    $('#createReservationForm').on('submit', function (e) {
        e.preventDefault();

        if (!validateCreateReservationForm()) return;

        const cliente = $('#cliente').val();
        const fInicio = $('#fInicio').val();
        const fFin = $('#fFin').val();
        const total = $('#total').val();
        const estado = $('#estado').val();

        console.log("Nueva Reserva:", { cliente, fInicio, fFin, total, estado });

        // Cerrar el modal después de crear la reserva
        $('#createReservationModal').modal('hide');

        // Limpiar el formulario
        $(this).trigger("reset");

        Swal.fire({
            title: '¡Éxito!',
            text: 'La reserva se ha creado correctamente.',
            icon: 'success',
            confirmButtonText: 'Aceptar'
        });
    });
}

// Manejo de la edición de una reserva
function handleEditReservation() {
    $('#editReservationForm').on('submit', function (e) {
        e.preventDefault();

        // Aquí puedes agregar lógica adicional de validación si es necesario

        Swal.fire({
            title: '¡Éxito!',
            text: 'La reserva se ha actualizado correctamente.',
            icon: 'success',
            confirmButtonText: 'Aceptar'
        });
    });
}

// Exportación de la tabla a Excel
function handleExportToExcel() {
    $('.btn-excel').on('click', function () {
        const table = document.getElementById('reservasTable');
        const workbook = XLSX.utils.table_to_book(table, { sheet: "Reservas" });
        XLSX.writeFile(workbook, 'reservas.xlsx');
    });
}

// Manejo de la vista de detalles de la reserva
function handleViewDetails() {
    $('.btn-view-details').on('click', function () {
        const reservationId = $(this).data('id');
        const detallesReserva = "Detalles de la reserva con ID: " + reservationId;

        $('#reservationDetails').text(detallesReserva);
        $('#viewDetailsModal').modal('show');
    });
}

// Inicializar funciones
initDataTable();
handleStatusButtons();
handleCreateReservation();
handleEditReservation();
handleExportToExcel();
handleViewDetails();
});

</script>

</body>

</html>